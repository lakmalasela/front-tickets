<div [@routerTransition]>
    <app-page-header [heading]="'Ticket Approve'"></app-page-header>

    <div class="row mb-4">
        <div class="col-lg-12">

           
            <form [formGroup]="ticketGroup" (submit)="onSubmit()" >
                <div class="row">

                    <div class="col-md-6">
                        <fieldset class="form-group">
                            <label for="inputquantity4">Ticket No*</label>
                            <input type="text" class="form-control" formControlName="ticketnumber" disabled>
                        </fieldset>
                    </div>

                    <div class="col-md-6">
                        <label for="exampleFormControlSelect1">Status</label>
                        <select   [ngClass]="{
                            'is-invalid':
                                submitted && f.ticketstatus.errors
                        }" class="form-control" formControlName="ticketstatus">
                            <option *ngFor="let issue of statusList" [ngValue]="issue.name"  >{{issue?.name}}
                            </option>
                         </select>
                        <div *ngIf="submitted && f.ticketstatus.errors" class="invalid-feedback">
                          <div *ngIf="f.ticketstatus.errors.required">
                            Issue type is required
                          </div>
                    </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <button class="btn btn-success"  type="submit">Update</button>
                    </div>
                </div>

          

            </form>
        </div>
        
    </div>

    <div class="container mt-4">
        <div class="row">
            <div class="col-md-12">
                <table class="table table-hover table-striped">
                    <thead>
                        <div class="row">
                            <div class="container">
                                <table #dataTable class="table table-striped table-hover table-bordered table-sm" id="mytable">
                                    <caption>
                                        <b>View Item Details</b>
                                      </caption>
                                      <thead>
                                          <tr>
                                            <th style="text-align: center;" scope="col">
                                               Serial Number
        
                                                </th>
                                           
                                              
                                              <th style="text-align: center;" scope="col">
                                             Status
        
                                              </th>
        
                                             

                                                   <th style="text-align: center;" scope="col">
                                                 Actions
                                                        </th>
                                          </tr>
                                      </thead>
                                      <tbody>
                                          <tr *ngIf="taskList?.length<1">
                                            <td colspan="12" style="text-align: center;"><b>There are no records to show</b></td>
                                          </tr>
                                          <tr *ngFor="let data of taskList">
                                            <td style="text-align: center;">
                                              {{ data.ticketnumber || '-'}}
                                            </td>
                                            
                                           
                                              <td style="text-align: center;">
                                                {{ data.ticketstatus || '-'}}
                                              </td>
                                              
                                              <td>
                                                <button class="btn btn-success btn-add"  (click)="fillData(data)">View</button>
                                                <button class="btn btn-danger"  (click)="deleteData(row.id)">Delete</button>
                                                
                                              </td>
                                          </tr>
                                      </tbody>
                                </table>
                            </div>
                        </div>
                    </thead>
                </table>
               
            </div>
        </div>
    </div>
    <!-- /.row -->
</div>
